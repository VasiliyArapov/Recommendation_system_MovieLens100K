# Цель проекта.

В этом проекте я хотел создать рекомендательную систему, и реализовать продакшен данной системы через Docker.

# Датасет.

В данном проекте используется датасет MovieLens 100K.

# Струкрура проекта.

- В файле Recommender_system_development.ipynb производится EDA нашего датасета, разработка нескольких моделей, их оцнека, сравнение и выбор наилучшей модели. Лучшая модель пойдет в продакшен.
- В папке app находится скрипт server.py, который обеспечивает работу нашей модели в виде Flask сервера. В папке models находятся все данные для работы модели на сервере.
- В папке test нахоидтся скрипт client.py, этот скрипт позоляет отправлять POST запросы на наш сервер, где работае модель, и получать от модели рекомендации. 

# Принцип работы.
Сперва надо запустить сервер (server.py), потом надо запустить клиент (client.py), клиент попросит вас ввести id пользователя, для которого надо создать рекомендации. Id пользователя - это целое число от 1 до 610 включительно. По умолчанию, модель выдает 10 фильмов, которые должны больше всего понравиться указанному пользователю.

# Модель.
По результатам исследования в скрипте Recommender_system_development.ipynb, лучший результат по метрике RMSE показала гибридная модель, которая получает средневзвешенный результат двух слудеющих моделей: Collaborative Filtering Model (SVD) и Content-dased Model. Совмещение этих моделей позволяет улавливать влияние, и факторов взаимодействия пользователей и фильмов, и метаданных самих фильмов. 

Модель принимает id пользователя и выводит 10 фильмов, которые пользователь оценил бы выше всего, по мнению модели.

# Docker.
Для удобства, я собрал контейнер, внутри которого работает наша модель на сервере со связкой FLASK + UWSGI + NGINX + DOCKER. Мой образ собран на основе [этого образа](https://hub.docker.com/r/tiangolo/uwsgi-nginx-flask). Для того, чтобы воспользоваться моим образом, вы можете, либо собрать собственный образ на основании данных из этого репозитория, либо скачать готовый образ с [docker hub](https://hub.docker.com/repository/docker/varapov95/rec_sys_movies_image/general). 
Пример использования образа:

docker pull varapov95/rec_sys_movies_image

docker run -it --rm --name=rec_sys_movies_image -p=80:80 varapov95/rec_sys_movies_image

Первая команда скачивает мой образ с docker hub, вторая команда запускает контейнер на порте 80. Дальше вам остается только запустить client.py, скрипт запросит у вас id пользователя, а в ответ вам придут рекомендации.
